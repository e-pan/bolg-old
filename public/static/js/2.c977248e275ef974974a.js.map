{"version":3,"sources":["webpack:///src/components/user/article.vue","webpack:///./src/components/user/article.vue?7b88","webpack:///./src/components/user/article.vue"],"names":["article","defineProperty_default","quillEditor","vue_quill_editor","userNav","userFooter","myQuillEditor","html","this","then","res","data","error","FormData","files","response","articleTitle","articleContent","img","datas","_this","msg","action","submit","getTag","user_article","render","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","placeholder","clearable","model","value","callback","$$v","expression","type","on","change","upload","checkList","_l","item","label","name","ref","content","config","editorOption","$event","onEditorChange","staticStyle","clear","plain","click","validate","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mPA8GAA,iCAAAC,GAAA,OACA,uCAGA,gBACA,kBACA,uBAEA,sCAMAC,YAAAC,EAAA,uBACAC,EAAA,gBAEAC,EAAA,+EAEAC,kEAIAC,4BACAA,8BAIAC,wBAEA,qBACA,0BAFAC,KAAA,SAAAC,eAKAA,GADA,IAAAC,EAEAD,EAAAC,+BACAA,6CACAC,8CAGA,SACAC,0BAEAC,SACAN,wEAIA,yBAHAC,KAAA,SAAAM,WAKAJ,2BAEAA,mEASA,qBACA,mCAHAH,KAKAQ,qBALAR,KAMAS,mBANAT,KAOAU,QAPAV,oBASA,8BAGA,uCAXAC,KAAA,SAAAM,WAaAJ,iBACAQ,sDASA,IAAAC,EAAAZ,KAEAa,OAAA,qDAMA,aAFA,aAFA,6CASA,2CAGA,0BAEAC,YAIAC,qFAQAC,cC5NAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAAAA,EAAA,YAAAH,EAAAK,GAAA,KAAAF,EAAA,WAAAA,EAAA,WAAAA,EAAA,OAA2FG,YAAA,2BAAqCN,EAAAK,GAAA,WAAAL,EAAAK,GAAA,KAAAF,EAAA,YAA+CI,OAAOC,YAAA,QAAAC,UAAA,IAAqCC,OAAQC,MAAAX,EAAA,aAAAY,SAAA,SAAAC,GAAkDb,EAAAX,aAAAwB,GAAqBC,WAAA,mBAA4B,GAAAd,EAAAK,GAAA,KAAAF,EAAA,WAAAA,EAAA,OAA0CG,YAAA,2BAAqCN,EAAAK,GAAA,YAAAL,EAAAK,GAAA,KAAAF,EAAA,SAA6CG,YAAA,+BAAAC,OAAkDQ,KAAA,OAAAP,YAAA,SAAoCQ,IAAKC,OAAAjB,EAAAkB,YAAqBlB,EAAAK,GAAA,KAAAF,EAAA,WAAAA,EAAA,OAAwCG,YAAA,2BAAqCN,EAAAK,GAAA,WAAAL,EAAAK,GAAA,KAAAF,EAAA,OAA0CG,YAAA,SAAmBH,EAAA,qBAA0BO,OAAOC,MAAAX,EAAA,UAAAY,SAAA,SAAAC,GAA+Cb,EAAAmB,UAAAN,GAAkBC,WAAA,cAAyBd,EAAAoB,GAAApB,EAAA,cAAAqB,GAAkC,OAAAlB,EAAA,eAAyBI,OAAOe,MAAAD,EAAAE,YAAqB,KAAAvB,EAAAK,GAAA,KAAAF,EAAA,WAAAA,EAAA,OAA6CG,YAAA,2BAAqCN,EAAAK,GAAA,WAAAL,EAAAK,GAAA,KAAAF,EAAA,gBAAmDqB,IAAA,eAAAjB,OAA0BkB,QAAAzB,EAAAyB,QAAAC,OAAA1B,EAAA2B,cAAgDX,IAAKC,OAAA,SAAAW,GAA0B5B,EAAA6B,eAAAD,QAA6B,GAAA5B,EAAAK,GAAA,KAAAF,EAAA,MAA2B2B,aAAaC,MAAA,UAAgB/B,EAAAK,GAAA,KAAAF,EAAA,WAAAA,EAAA,OAAAH,EAAAK,GAAA,KAAAF,EAAA,aAAkEI,OAAOQ,KAAA,UAAAiB,MAAA,IAA4BhB,IAAKiB,MAAAjC,EAAAkC,YAAsBlC,EAAAK,GAAA,cAAAL,EAAAK,GAAA,KAAAF,EAAA,oBAEz5CgC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAjE,EACAyB,GATA,EAVA,SAAAyC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/2.c977248e275ef974974a.js","sourcesContent":["<template>\n    <el-container>\n        <user-nav></user-nav>\n        <article>\n            <section>\n                <div class=\"grid-content bg-purple\">文章标题：</div>\n                <el-input placeholder=\"请输入内容\" v-model=\"articleTitle\" clearable></el-input>\n            </section>\n            <section>\n                <div class=\"grid-content bg-purple\">文章缩略图：</div>\n                <input type=\"file\" class=\"el-button el-button--default\" placeholder=\"请输入标题\" @change='upload' />\n            </section>\n            <section>\n                <div class=\"grid-content bg-purple\">文章标签：</div>\n                <div class='tags'>\n                    <el-checkbox-group v-model=\"checkList\">\n                        <el-checkbox v-for='item in tags' :label=\"item.name\"></el-checkbox>\n                    </el-checkbox-group>\n                </div>\n            </section>\n            <section >\n                <div class=\"grid-content bg-purple\">文章内容：</div>\n                <quill-editor ref=\"myTextEditor\" :content=\"content\" :config=\"editorOption\" @change=\"onEditorChange($event)\"></quill-editor>\n            </section>\n            <br style=\"clear: both;\" />\n            <section>\n                <div></div>\n                <el-button type=\"primary\" plain @click='validate'>提交</el-button>\n            </section>\n        </article>\n        <user-footer></user-footer>\n    </el-container>\n</template>\n\n<style lang='less'>\n    // 自定义样式\n    article section {\n        background: #fff;\n        display: flex;\n        margin: 20px 0;\n\n        div {\n            min-width: 100px;\n            align-items: center;\n            justify-content: center;\n        }\n        input[type='file'], button {\n            width: 100%;\n        }\n        .tags {\n            width: 100%;\n            display: flex;\n            justify-content: flex-start;\n        }\n    }\n    // 自定义样式\n\n  .el-header, .el-footer {\n    background-color: #B3C0D1;\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n    width: 100%;\n  }\n\n  .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 200px;\n  }\n\n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n    line-height: 160px;\n    width: 100%;\n  }\n\n  body > .el-container {\n    margin-bottom: 40px;\n  }\n  .el-container {\n    flex-direction: column;\n  }\n\n  .el-container:nth-child(5) .el-aside,\n  .el-container:nth-child(6) .el-aside {\n    line-height: 260px;\n  }\n\n  .el-container:nth-child(7) .el-aside {\n    line-height: 320px;\n  }\n\n  /**/\n  .ql-editor.ql-blank {\n    min-height: 300px;\n  }\n</style>\n<script>\nimport ElementUI from 'element-ui'\nimport userFooter from '@/components/common/userFooter'\nimport userNav from '@/components/common/userNav'\nimport { quillEditor } from 'vue-quill-editor'\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\n\nexport default {\n    name: 'login',\n    data () {\n        return {\n            content: '',\n            articleTitle: '',\n            articleContent: '',\n            editorOption: {},\n            img: '',\n            tags: [],\n            checkList: []\n        }\n    },\n    components: {\n        quillEditor,\n        \"user-nav\": userNav,\n        \"user-footer\": userFooter\n    },\n    mounted() {\n        console.log('this is current quill instance object', this.myQuillEditor)\n    },\n    methods: {\n        onEditorChange: function(event) {\n            console.log(event.html)\n            this.articleContent = event.html\n        },\n        // 获取标签\n        getTag() {\n            const that = this\n            this.$http({\n                method: 'post',\n                url: this.HOST + '/api/getTag',\n                params: {}\n            }).then(res => {\n                console.log(res)\n                let { data } = res;\n                if (data && data.code == 200) that.tags = data.data\n            }).catch(error => console.log(error));\n        },\n        upload: function (event) {\n            let files = event.target.files[0]\n            var formData = new FormData()\n            formData.append('files', files)\n\n            let that = this\n            this.$http.post(this.HOST + '/api/upload', formData, {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              }\n            }).then((response) => {\n                var datas = response.data\n                if (datas.code == 200) {\n                    that.img = datas.data\n                }\n            }).catch(error => {\n\n            });\n        },\n        submit: function () {\n            let that = this\n            this.$http({\n                method: 'post',\n                url: this.HOST + '/api/insertArticle',\n                params: {\n                    title: that.articleTitle,\n                    content: that.articleContent,\n                    img: that.img,\n                    tag: that.checkList.join(\",\")\n                },\n                headers: {\n                  'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function(response) {\n                var datas = response.data\n                console.log(datas)\n                if (datas.code == 200) {\n                    //that.tags = datas.data\n                }\n                //that.$router.push('/register');\n            }).catch(function(error) {\n                //console.log(error)\n            })\n        },\n        validate() {\n            // 验证\n            let msg;\n            if (!this.articleTitle) {\n                msg = '请输入文章标题'\n            } else if (!this.img) {\n                msg = '请上传文章缩略图'\n            } else if (!this.articleContent) {\n                msg = '请输入文章内容'\n            }\n\n            if (msg) {\n                this.$alert(msg, {\n                  confirmButtonText: '确定',\n                  callback: action => {\n                    this.$message({\n                      type: 'info',\n                      message: `action: ${ action }`\n                    });\n                  }\n                });\n            } else {\n                this.submit()\n            }\n        }\n    },\n    created:function () {\n    },\n    mounted: function () {\n        this.$nextTick(function () {\n            this.getTag()\n        })\n    }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/user/article.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('user-nav'),_vm._v(\" \"),_c('article',[_c('section',[_c('div',{staticClass:\"grid-content bg-purple\"},[_vm._v(\"文章标题：\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.articleTitle),callback:function ($$v) {_vm.articleTitle=$$v},expression:\"articleTitle\"}})],1),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"grid-content bg-purple\"},[_vm._v(\"文章缩略图：\")]),_vm._v(\" \"),_c('input',{staticClass:\"el-button el-button--default\",attrs:{\"type\":\"file\",\"placeholder\":\"请输入标题\"},on:{\"change\":_vm.upload}})]),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"grid-content bg-purple\"},[_vm._v(\"文章标签：\")]),_vm._v(\" \"),_c('div',{staticClass:\"tags\"},[_c('el-checkbox-group',{model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},_vm._l((_vm.tags),function(item){return _c('el-checkbox',{attrs:{\"label\":item.name}})}))],1)]),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"grid-content bg-purple\"},[_vm._v(\"文章内容：\")]),_vm._v(\" \"),_c('quill-editor',{ref:\"myTextEditor\",attrs:{\"content\":_vm.content,\"config\":_vm.editorOption},on:{\"change\":function($event){_vm.onEditorChange($event)}}})],1),_vm._v(\" \"),_c('br',{staticStyle:{\"clear\":\"both\"}}),_vm._v(\" \"),_c('section',[_c('div'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.validate}},[_vm._v(\"提交\")])],1)]),_vm._v(\" \"),_c('user-footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a8c8f632\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/article.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a8c8f632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./article.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./article.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./article.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8c8f632\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./article.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/article.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}