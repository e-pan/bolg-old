webpackJsonp([2],{"+cgv":function(t,e){},"3f40":function(t,e){},"4qOc":function(t,e){},IxEH:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("bOdI"),o=i.n(n),a=(i("zL8q"),i("hTuX")),c=i("iD0u"),l=i("G0J2"),s=(i("3f40"),i("4qOc"),i("+cgv"),o()({name:"login",data:function(){return{content:"",articleTitle:"",articleContent:"",editorOption:{},img:"",tags:[],checkList:[]}},components:{quillEditor:l.quillEditor,"user-nav":c.a,"user-footer":a.a},mounted:function(){console.log("this is current quill instance object",this.myQuillEditor)},methods:{onEditorChange:function(t){console.log(t.html),this.articleContent=t.html},getTag:function(){var t=this;this.$http({method:"post",url:this.HOST+"/api/getTag",params:{}}).then(function(e){console.log(e);var i=e.data;i&&200==i.code&&(t.tags=i.data)}).catch(function(t){return console.log(t)})},upload:function(t){var e=t.target.files[0],i=new FormData;i.append("files",e);var n=this;this.$http.post(this.HOST+"/api/upload",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var e=t.data;200==e.code&&(n.img=e.data)}).catch(function(t){})},submit:function(){this.$http({method:"post",url:this.HOST+"/api/insertArticle",params:{title:this.articleTitle,content:this.articleContent,img:this.img,tag:this.checkList.join(",")},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var e=t.data;console.log(e),e.code}).catch(function(t){})},validate:function(){var t=this,e=void 0;this.articleTitle?this.img?this.articleContent||(e="请输入文章内容"):e="请上传文章缩略图":e="请输入文章标题",e?this.$alert(e,{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: "+e})}}):this.submit()}},created:function(){}},"mounted",function(){this.$nextTick(function(){this.getTag()})})),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("user-nav"),t._v(" "),i("article",[i("section",[i("div",{staticClass:"grid-content bg-purple"},[t._v("文章标题：")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}})],1),t._v(" "),i("section",[i("div",{staticClass:"grid-content bg-purple"},[t._v("文章缩略图：")]),t._v(" "),i("input",{staticClass:"el-button el-button--default",attrs:{type:"file",placeholder:"请输入标题"},on:{change:t.upload}})]),t._v(" "),i("section",[i("div",{staticClass:"grid-content bg-purple"},[t._v("文章标签：")]),t._v(" "),i("div",{staticClass:"tags"},[i("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.tags,function(t){return i("el-checkbox",{attrs:{label:t.name}})}))],1)]),t._v(" "),i("section",[i("div",{staticClass:"grid-content bg-purple"},[t._v("文章内容：")]),t._v(" "),i("quill-editor",{ref:"myTextEditor",attrs:{content:t.content,config:t.editorOption},on:{change:function(e){t.onEditorChange(e)}}})],1),t._v(" "),i("br",{staticStyle:{clear:"both"}}),t._v(" "),i("section",[i("div"),t._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.validate}},[t._v("提交")])],1)]),t._v(" "),i("user-footer")],1)},staticRenderFns:[]};var u=i("VU/8")(s,r,!1,function(t){i("SNV2")},null,null);e.default=u.exports},SNV2:function(t,e){}});
//# sourceMappingURL=2.c977248e275ef974974a.js.map